# UGHer_validation.md — PoR構造モデルの検証設計

このファイルは、UGHer (Unconscious Gravity Hypothesis) の中核数式  
**E = Q × S_q × t**  
に基づいた PoR構造モデルの検証手順、再現実験、結果解釈、失敗例を記録し、科学的検証可能性を明確にすることを目的とする。

---

## 1. 検証目的

- 数式モデルが**実際に構造的発火（PoR）を起こすかどうか**を確認する。  
  - 成功基準：発火一致率80%以上（発火予測と実際の結果が一致）。
- 入力（`Q`, `S_q`, `t`）→ 出力（`E`）→ 発火成立 or 非成立 の評価プロセスを明示する。  
- LLM応答（例: GPT-4）、照合応答、発火ログと**数式スコアが一致するか**をテストする。  
  - 成功基準：LLM応答との一致率90%以上。
- 拡張検証：時間制御モデル（`t = f(energy_input)`）やAI統合（例: AlphaCode）の適用可能性をテスト。

---

## 2. 入力定義と条件

- **使用ファイル**：`por_eval_sample.csv`（CSV形式で入力データを提供）。
- **変数スケーリング**：`PoR_input_spec.md` に準拠。
- **データ例**（統計的信頼性のために10行に拡張）：

| Q   | S_q | t   | E       | 発火 | 計算詳細                     |
|-----|-----|-----|---------|------|------------------------------|
| 0.9 | 0.8 | 0.95| 0.6840  | ✅   | `0.9 × 0.8 × 0.95 = 0.6840` |
| 0.7 | 0.65| 0.8 | 0.3640  | ❌   | `0.7 × 0.65 × 0.8 = 0.3640` |
| 0.5 | 0.9 | 0.7 | 0.3150  | ❌   | `0.5 × 0.9 × 0.7 = 0.3150`  |
| 0.95| 0.6 | 0.85| 0.4845  | ❌   | `0.95 × 0.6 × 0.85 = 0.4845`|
| 0.8 | 0.75| 0.9 | 0.5400  | ✅   | `0.8 × 0.75 × 0.9 = 0.5400` |
| 0.6 | 0.5 | 0.95| 0.2850  | ❌   | `0.6 × 0.5 × 0.95 = 0.2850` |
| 0.85| 0.7 | 0.65| 0.3894  | ❌   | `0.85 × 0.7 × 0.65 = 0.3894`|
| 0.4 | 0.85| 0.8 | 0.2720  | ❌   | `0.4 × 0.85 × 0.8 = 0.2720` |
| 0.9 | 0.9 | 0.9 | 0.7290  | ✅   | `0.9 × 0.9 × 0.9 = 0.7290`  |
| 0.65| 0.55| 0.75| 0.2681  | ❌   | `0.65 × 0.55 × 0.75 = 0.2681`|

- **閾値**：`threshold = 0.5`（`PoR_eval.py` で発火判定に使用）。
- **環境**：Python 3.9+, pandas, numpy が必要（`requirements.txt` 参照）。

### 補足
- **エラーハンドリング**：
  - 変数が値域（0.0～1.0）を超える場合、クリッピング（`max(min(value, 1.0), 0.0)`）。
  - 欠損値（NaN）はデフォルト値（0.0）に補完。

---

## 3. 実行手順

```bash
# 依存関係のインストール
pip install -r requirements.txt

# スクリプトの実行
python PoR_eval.py --input por_eval_sample.csv --threshold 0.5